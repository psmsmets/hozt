(window.webpackJsonp=window.webpackJsonp||[]).push([["membership_competitions"],{nqpY:function(t,n,e){(function(t){function n(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var e=[],i=!0,o=!1,a=void 0;try{for(var s,c=t[Symbol.iterator]();!(i=(s=c.next()).done)&&(e.push(s.value),!n||e.length!==n);i=!0);}catch(t){o=!0,a=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}e("SYky");var i='<i class="fas fa-square text-medium h4"></i>',o='<button class="btn btn-success btn-sm"><i class="fas fa-check" data-value="true"></i></button>',a='<button class="btn btn-warning btn-sm text-light"><i class="fas fa-minus" data-value="false"></i></button>';function s(){t.getJSON("/api/private/membership/competitions",{format:"json",action:"load"}).done((function(n){if(n.success){var e=0;t.each(n.data,(function(n,s){var c=t("#competition-enrolment-"+s.competitionpart+"-"+s.member);s.disabled?t(c).html(i):s.enrolled?t(c).html(o):t(c).html(a),!s.enrolledAt&&s.editable&&(e+=1)})),e&&t("#competitions-new-tab span").html(e)}}))}function c(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t("tr:not(.d-none) td[id^='competition-enrolment-']").each((function(){void 0!==t("i",this).attr("data-value")&&(e?t(this).click((function(){!function(e){if(!t(e).hasClass("editing")){t(e).addClass("editing");var i=n(e.id.split("-"),4),s=(i[0],i[1],i[2]),c=i[3],r=!t("i",e).data("value");t.getJSON("/api/private/membership/competitions",{format:"json",action:"edit",competitionpart:s,member:c,enrolled:r?1:0}).done((function(n){r?t(e).html(o):t(e).html(a),t(e).removeClass("editing")}))}}(this)})):t(this).unbind())}))}function r(n){switch(t("tr.competition").removeClass("d-none"),n.id){case"competitions-all-tab":break;case"competitions-new-tab":t("tr.competition").addClass("d-none"),t("tr.competition-new").removeClass("d-none");break;case"competitions-upcoming-tab":t("tr.competition-past").addClass("d-none")}}s();var l=!1;t(document).ready((function(){t("#competitions-edit").click((function(){l?(t(this).html('<i class="fas fa-lock"></i> bewerken'),t("#competitions-tab > a").removeClass("disabled"),t("tr.competition-locked").removeClass("d-none"),r(t("#competitions-tab").find(".active")[0]),c(!1),s()):(t(this).html('<i class="fas fa-lock-open"></i> afronden'),t("#competitions-tab > a").addClass("disabled"),t("tr.competition-locked").addClass("d-none"),c(!0)),l=!l})),t("#competitions-tab").on("show.bs.tab",(function(t){r(t.target)}))}))}).call(this,e("EVdn"))}},[["nqpY","runtime",0,1]]]);