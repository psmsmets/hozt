(window.webpackJsonp=window.webpackJsonp||[]).push([["membership_competitions"],{nqpY:function(t,e,i){(function(t){function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],n=!0,a=!1,o=void 0;try{for(var s,r=t[Symbol.iterator]();!(n=(s=r.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==r.return||r.return()}finally{if(a)throw o}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}i("SYky");var n='<i class="fas fa-square text-medium"></i>',a='<i class="fas fa-check-square text-success" data-value="true"></i>',o='<i class="fas fa-minus-square text-warning" data-value="false"></i>';function s(){t.getJSON("/api/private/membership/competitions",{format:"json",action:"load"}).done(function(e){if(e.success){var i=0;t.each(e.data,function(e,s){var r=t("#competition-enrolment-"+s.competitionpart+"-"+s.member);s.disabled?t(r).html(n):s.enrolled?t(r).html(a):t(r).html(o),!s.enrolledAt&&s.editable&&(i+=1)}),i&&t("#competitions-new-tab span").html(i)}})}function r(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t("tr:not(.d-none) td[id^='competition-enrolment-']").each(function(){void 0!==t("i",this).attr("data-value")&&(i?t(this).click(function(){!function(i){if(!t(i).hasClass("editing")){t(i).addClass("editing");var n=e(i.id.split("-"),4),s=(n[0],n[1],n[2]),r=n[3],c=!t("i",i).data("value");t.getJSON("/api/private/membership/competitions",{format:"json",action:"edit",competitionpart:s,member:r,enrolled:c}).done(function(e){c?t(i).html(a):t(i).html(o),t(i).removeClass("editing")})}}(this)}):t(this).unbind())})}function c(e){switch(t("tr.competition").removeClass("d-none"),e.id){case"competitions-all-tab":break;case"competitions-new-tab":t("tr:not(.competition-new)").addClass("d-none");break;case"competitions-upcoming-tab":t("tr.competition-past").addClass("d-none")}}s();var d=!1;t(document).ready(function(){t(".competition-past").hide(),t("#competitions-edit").click(function(){d?(t(this).html('<i class="fas fa-edit"></i> bewerken').removeClass("btn-secondary").addClass("btn-medium"),t("#competitions-tab > a").removeClass("disabled"),t("tr.competition-locked").removeClass("d-none"),c(t("#competitions-tab").find(".active")[0]),r(!1),s()):(t(this).html('<i class="fas fa-save"></i> bewaren').removeClass("btn-medium").addClass("btn-secondary"),t("#competitions-tab > a").addClass("disabled"),t("tr.competition-locked").addClass("d-none"),r(!0)),d=!d}),t("#competitions-tab").on("show.bs.tab",function(t){c(t.target)})})}).call(this,i("EVdn"))}},[["nqpY","runtime",0,1]]]);