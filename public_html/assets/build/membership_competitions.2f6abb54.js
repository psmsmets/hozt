(window.webpackJsonp=window.webpackJsonp||[]).push([["membership_competitions"],{nqpY:function(t,n,e){(function(t){function n(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],i=!0,o=!1,a=void 0;try{for(var r,s=t[Symbol.iterator]();!(i=(r=s.next()).done)&&(e.push(r.value),!n||e.length!==n);i=!0);}catch(t){o=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return e}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return i(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}e("SYky");var o='<button class="btn btn-success btn-sm"><i class="fas fa-check" data-value="true"></i></button>',a='<button class="btn btn-warning btn-sm text-light"><i class="fas fa-minus" data-value="false"></i></button>';function r(){t.getJSON("/api/private/membership/competitions",{format:"json",action:"load"}).done((function(n){if(n.success){var e=0;t.each(n.data,(function(n,i){var r=t("#competition-enrolment-"+i.competitionpart+"-"+i.member);i.disabled?t(r).html('<i class="fas fa-square text-medium h4"></i>'):i.enrolled?t(r).html(o):t(r).html(a),!i.enrolledAt&&i.editable&&(e+=1)})),e&&t("#competitions-new-tab span").html(e)}}))}function s(e){if(!t(e).hasClass("editing")){t(e).addClass("editing");var i=n(e.id.split("-"),4),r=(i[0],i[1],i[2]),s=i[3],c=!t("i",e).data("value");t.getJSON("/api/private/membership/competitions",{format:"json",action:"edit",competitionpart:r,member:s,enrolled:c?1:0}).done((function(n){c?t(e).html(o):t(e).html(a),t(e).removeClass("editing")}))}}function c(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t("tr:not(.d-none) td[id^='competition-enrolment-']").each((function(){void 0!==t("i",this).attr("data-value")&&(n?t(this).click((function(){s(this)})):t(this).unbind())}))}function l(n){switch(t("tr.competition").removeClass("d-none"),n.id){case"competitions-all-tab":break;case"competitions-new-tab":t("tr.competition").addClass("d-none"),t("tr.competition-new").removeClass("d-none");break;case"competitions-upcoming-tab":t("tr.competition-past").addClass("d-none")}}r();var m=!1;t(document).ready((function(){t("#competitions-edit").click((function(){m?(t(this).html('<i class="fas fa-lock"></i> bewerken'),t("#competitions-tab > a").removeClass("disabled"),t("tr.competition-locked").removeClass("d-none"),l(t("#competitions-tab").find(".active")[0]),c(!1),r()):(t(this).html('<i class="fas fa-lock-open"></i> afronden'),t("#competitions-tab > a").addClass("disabled"),t("tr.competition-locked").addClass("d-none"),c(!0)),m=!m})),t("#competitions-tab").on("show.bs.tab",(function(t){l(t.target)}))}))}).call(this,e("EVdn"))}},[["nqpY","runtime",0,1]]]);