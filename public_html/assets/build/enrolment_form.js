(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["enrolment_form"],{

/***/ "./assets/js/enrolment_form.js":
/*!*************************************!*\
  !*** ./assets/js/enrolment_form.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {$('input.form-control[data-category-title]').each(function () {
  var formGroup = $(this).parent();
  $('<h4 class="pt-4">' + $(this).data('category-title') + '</h4>').insertBefore(formGroup);
});
$('input.form-control[data-category-description]').each(function () {
  var formGroup = $(this).parent();
  $('<p>' + $(this).data('category-description') + '<p>').insertBefore(formGroup);
});
$(".form-control[data-parent-class]").each(function () {
  var formGroup = $(this).parent();
  $(formGroup).addClass($(this).data('parent-class'));
});
$(".form-control[data-parent-parent-class]").each(function () {
  var formGroup = $(this).parent().parent();
  $(formGroup).addClass($(this).data('parent-parent-class'));
});
$('.toClipboard').click(function (e) {
  e.preventDefault();
  var textArea = document.createElement("textarea");
  textArea.value = $(this).attr('href');
  document.body.appendChild(textArea);
  textArea.select();
  document.execCommand("Copy");
  textArea.remove();
  $(this).addClass('rubberBand animated').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function () {
    $(this).removeClass('rubberBand animated');
  });
});

function getTotals() {
  var totalDefault = 0;
  var totalIncluded = 0;
  var totalSupplement = 0;
  var totalPrice = 0.;
  $('input.form-control[data-category-type]').each(function () {
    if ($(this).val() == '') {
      return true;
    }

    value = parseInt($(this).val());

    if ($(this).data('category-type') === 'default') {
      totalDefault += value;

      if (typeof $(this).data('value') !== 'undefined') {
        totalPrice += value * parseFloat($(this).data('value'));
      }
    } else if ($(this).data('category-type') === 'included') {
      totalIncluded += value;
    } else if ($(this).data('category-type') === 'supplement') {
      totalSupplement += value;

      if (typeof $(this).data('value') !== 'undefined') {
        totalPrice += value * parseFloat($(this).data('value'));
      }
    }
  });
  $('input#enrolment_form_totalPrice').val(totalPrice.toFixed(2).replace(".", ","));
  $('input#enrolment_form_numberOfPersons').val(totalDefault);
  return {
    "default": totalDefault,
    "included": totalIncluded,
    "supplement": totalSupplement,
    "totalPrice": totalPrice
  };
}

function setMaxIncluded(totals) {
  $('input.form-control[data-category-type="included"]').each(function () {
    maxVal = totals["default"] - totals.included;

    if ($(this).val() != '') {
      maxVal += parseInt($(this).val());
    }

    $(this).attr({
      "max": maxVal
    });
  });
}

function setDefaultRequired(totals) {
  if (totals["default"] == 0) {
    $('input.form-control[data-category-type="default"]').attr("min", 1);
  } else {
    $('input.form-control[data-category-type="default"]').attr("min", 0);
  }
}

$('input.form-control[data-category-type]').each(function () {
  $(this).focusout(function () {
    var totals = getTotals();

    if ($(this).data('category-type') !== 'supplement') {
      setMaxIncluded(totals);
    }

    setDefaultRequired(totals);
  });
});
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js")))

/***/ })

},[["./assets/js/enrolment_form.js","runtime","vendors~calendar~carousel~enrolment_form~eu_cookie~form_default~form_extended~hozt~membership_compet~607ea275"]]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvanMvZW5yb2xtZW50X2Zvcm0uanMiXSwibmFtZXMiOlsiJCIsImVhY2giLCJmb3JtR3JvdXAiLCJwYXJlbnQiLCJkYXRhIiwiaW5zZXJ0QmVmb3JlIiwiYWRkQ2xhc3MiLCJjbGljayIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInRleHRBcmVhIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwidmFsdWUiLCJhdHRyIiwiYm9keSIsImFwcGVuZENoaWxkIiwic2VsZWN0IiwiZXhlY0NvbW1hbmQiLCJyZW1vdmUiLCJvbmUiLCJyZW1vdmVDbGFzcyIsImdldFRvdGFscyIsInRvdGFsRGVmYXVsdCIsInRvdGFsSW5jbHVkZWQiLCJ0b3RhbFN1cHBsZW1lbnQiLCJ0b3RhbFByaWNlIiwidmFsIiwicGFyc2VJbnQiLCJwYXJzZUZsb2F0IiwidG9GaXhlZCIsInJlcGxhY2UiLCJzZXRNYXhJbmNsdWRlZCIsInRvdGFscyIsIm1heFZhbCIsImluY2x1ZGVkIiwic2V0RGVmYXVsdFJlcXVpcmVkIiwiZm9jdXNvdXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBQSwwQ0FBQyxDQUFDLHlDQUFELENBQUQsQ0FBNkNDLElBQTdDLENBQWtELFlBQVU7QUFDeEQsTUFBSUMsU0FBUyxHQUFHRixDQUFDLENBQUMsSUFBRCxDQUFELENBQVFHLE1BQVIsRUFBaEI7QUFDQUgsR0FBQyxDQUFFLHNCQUFzQkEsQ0FBQyxDQUFDLElBQUQsQ0FBRCxDQUFRSSxJQUFSLENBQWEsZ0JBQWIsQ0FBdEIsR0FBdUQsT0FBekQsQ0FBRCxDQUFvRUMsWUFBcEUsQ0FBaUZILFNBQWpGO0FBQ0gsQ0FIRDtBQUtBRixDQUFDLENBQUMsK0NBQUQsQ0FBRCxDQUFtREMsSUFBbkQsQ0FBd0QsWUFBVTtBQUM5RCxNQUFJQyxTQUFTLEdBQUdGLENBQUMsQ0FBQyxJQUFELENBQUQsQ0FBUUcsTUFBUixFQUFoQjtBQUNBSCxHQUFDLENBQUUsUUFBUUEsQ0FBQyxDQUFD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QVQsQ0FBNEJILE1BQTVCLEVBQW9DO0FBQ2hDLE1BQUlBLE1BQU0sV0FBTixJQUFrQixDQUF0QixFQUF5QjtBQUN2QmpDLEtBQUMsQ0FBQyxrREFBRCxDQUFELENBQXNEYyxJQUF0RCxDQUEyRCxLQUEzRCxFQUFpRSxDQUFqRTtBQUNELEdBRkQsTUFFTztBQUNMZCxLQUFDLENBQUMsa0RBQUQsQ0FBRCxDQUFzRGMsSUFBdEQsQ0FBMkQsS0FBM0QsRUFBaUUsQ0FBakU7QUFDRDtBQUNKOztBQUVEZCxDQUFDLENBQUMsd0NBQUQsQ0FBRCxDQUE0Q0MsSUFBNUMsQ0FBaUQsWUFBVTtBQUN2REQsR0FBQyxDQUFDLElBQUQsQ0FBRCxDQUFRcUMsUUFBUixDQUFpQixZQUFVO0FBQ3ZCLFFBQUlKLE1BQU0sR0FBR1gsU0FBUyxFQUF0Qjs7QUFDQSxRQUFJdEIsQ0FBQyxDQUFDLElBQUQsQ0FBRCxDQUFRSSxJQUFSLENBQWEsZUFBYixNQUFrQyxZQUF0QyxFQUFxRDtBQUNqRDRCLG9CQUFjLENBQUNDLE1BQUQsQ0FBZDtBQUNIOztBQUNERyxzQkFBa0IsQ0FBQ0gsTUFBRCxDQUFsQjtBQUNILEdBTkQ7QUFPSCxDQVJELEUiLCJmaWxlIjoiZW5yb2xtZW50X2Zvcm0uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKCdpbnB1dC5mb3JtLWNvbnRyb2xbZGF0YS1jYXRlZ29yeS10aXRsZV0nKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgdmFyIGZvcm1Hcm91cCA9ICQodGhpcykucGFyZW50KCk7XG4gICAgJCggJzxoNCBjbGFzcz1cInB0LTRcIj4nICsgJCh0aGlzKS5kYXRhKCdjYXRlZ29yeS10aXRsZScpICsgJzwvaDQ+JyApLmluc2VydEJlZm9yZShmb3JtR3JvdXApO1xufSk7XG5cbiQoJ2lucHV0LmZvcm0tY29udHJvbFtkYXRhLWNhdGVnb3J5LWRlc2NyaXB0aW9uXScpLmVhY2goZnVuY3Rpb24oKXtcbiAgICB2YXIgZm9ybUdyb3VwID0gJCh0aGlzKS5wYXJlbnQoKTtcbiAgICAkKCAnPHA+JyArICQodGhpcykuZGF0YSgnY2F0ZWdvcnktZGVzY3JpcHRpb24nKSArICc8cD4nICkuaW5zZXJ0QmVmb3JlKGZvcm1Hcm91cCk7XG59KTtcblxuJChcIi5mb3JtLWNvbnRyb2xbZGF0YS1wYXJlbnQtY2xhc3NdXCIpLmVhY2goZnVuY3Rpb24oKXtcbiAgICB2YXIgZm9ybUdyb3VwID0gJCh0aGlzKS5wYXJlbnQoKTtcbiAgICAkKGZvcm1Hcm91cCkuYWRkQ2xhc3MoJCh0aGlzKS5kYXRhKCdwYXJlbnQtY2xhc3MnKSk7XG59KTtcblxuJChcIi5mb3JtLWNvbnRyb2xbZGF0YS1wYXJlbnQtcGFyZW50LWNsYXNzXVwiKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgdmFyIGZvcm1Hcm91cCA9ICQodGhpcykucGFyZW50KCkucGFyZW50KCk7XG4gICAgJChmb3JtR3JvdXApLmFkZENsYXNzKCQodGhpcykuZGF0YSgncGFyZW50LXBhcmVudC1jbGFzcycpKTtcbn0pO1xuXG4kKCcudG9DbGlwYm9hcmQnKS5jbGljayhmdW5jdGlvbihlKXtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICB2YXIgdGV4dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XG4gICAgdGV4dEFyZWEudmFsdWUgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRBcmVhKTtcbiAgICB0ZXh0QXJlYS5zZWxlY3QoKTtcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZChcIkNvcHlcIik7XG4gICAgdGV4dEFyZWEucmVtb3ZlKCk7XG5cbiAgICAkKHRoaXMpXG4gICAgICAgIC5hZGRDbGFzcygncnViYmVyQmFuZCBhbmltYXRlZCcpLm9uZShcbiAgICAgICAgICAgICd3ZWJraXRBbmltYXRpb25FbmQgbW96QW5pbWF0aW9uRW5kIE1TQW5pbWF0aW9uRW5kIG9hbmltYXRpb25lbmQgYW5pbWF0aW9uZW5kJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdydWJiZXJCYW5kIGFuaW1hdGVkJyk7XG4gICAgICAgIH0pXG4gICAgO1xuXG59KTtcblxuZnVuY3Rpb24gZ2V0VG90YWxzKCkge1xuXG4gICAgdmFyIHRvdGFsRGVmYXVsdCA9IDA7XG4gICAgdmFyIHRvdGFsSW5jbHVkZWQgPSAwO1xuICAgIHZhciB0b3RhbFN1cHBsZW1lbnQgPSAwO1xuXG4gICAgdmFyIHRvdGFsUHJpY2UgPSAwLjtcblxuICAgICQoJ2lucHV0LmZvcm0tY29udHJvbFtkYXRhLWNhdGVnb3J5LXR5cGVdJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PSAnJyl7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IHBhcnNlSW50KCQodGhpcykudmFsKCkpO1xuICAgICAgICBpZiAoJCh0aGlzKS5kYXRhKCdjYXRlZ29yeS10eXBlJykgPT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgdG90YWxEZWZhdWx0ICs9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiAkKHRoaXMpLmRhdGEoJ3ZhbHVlJykgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdG90YWxQcmljZSArPSB2YWx1ZSAqIHBhcnNlRmxvYXQoJCh0aGlzKS5kYXRhKCd2YWx1ZScpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgkKHRoaXMpLmRhdGEoJ2NhdGVnb3J5LXR5cGUnKSA9PT0gJ2luY2x1ZGVkJykge1xuICAgICAgICAgICAgdG90YWxJbmNsdWRlZCArPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgkKHRoaXMpLmRhdGEoJ2NhdGVnb3J5LXR5cGUnKSA9PT0gJ3N1cHBsZW1lbnQnKSB7XG4gICAgICAgICAgICB0b3RhbFN1cHBsZW1lbnQgKz0gdmFsdWU7XG4gICAgICAgICAgICBpZiAodHlwZW9mICQodGhpcykuZGF0YSgndmFsdWUnKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB0b3RhbFByaWNlICs9IHZhbHVlICogcGFyc2VGbG9hdCgkKHRoaXMpLmRhdGEoJ3ZhbHVlJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCdpbnB1dCNlbnJvbG1lbnRfZm9ybV90b3RhbFByaWNlJykudmFsKHRvdGFsUHJpY2UudG9GaXhlZCgyKS5yZXBsYWNlKFwiLlwiLCBcIixcIikpO1xuICAgICQoJ2lucHV0I2Vucm9sbWVudF9mb3JtX251bWJlck9mUGVyc29ucycpLnZhbCh0b3RhbERlZmF1bHQpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgXCJkZWZhdWx0XCIgOiB0b3RhbERlZmF1bHQsXG4gICAgICAgIFwiaW5jbHVkZWRcIiA6IHRvdGFsSW5jbHVkZWQsXG4gICAgICAgIFwic3VwcGxlbWVudFwiIDogdG90YWxTdXBwbGVtZW50LFxuICAgICAgICBcInRvdGFsUHJpY2VcIiA6IHRvdGFsUHJpY2UsXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gc2V0TWF4SW5jbHVkZWQodG90YWxzKSB7XG4gICAgJCgnaW5wdXQuZm9ybS1jb250cm9sW2RhdGEtY2F0ZWdvcnktdHlwZT1cImluY2x1ZGVkXCJdJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICBtYXhWYWwgPSB0b3RhbHMuZGVmYXVsdCAtIHRvdGFscy5pbmNsdWRlZDtcbiAgICAgICAgaWYgKCQodGhpcykudmFsKCkgIT0gJycpIHtcbiAgICAgICAgICAgIG1heFZhbCArPSBwYXJzZUludCgkKHRoaXMpLnZhbCgpKTtcbiAgICAgICAgfVxuICAgICAgICAkKHRoaXMpLmF0dHIoe1xuICAgICAgICAgICAgXCJtYXhcIiA6IG1heFZhbCxcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHNldERlZmF1bHRSZXF1aXJlZCh0b3RhbHMpIHtcbiAgICBpZiAodG90YWxzLmRlZmF1bHQgPT0gMCkge1xuICAgICAgJCgnaW5wdXQuZm9ybS1jb250cm9sW2RhdGEtY2F0ZWdvcnktdHlwZT1cImRlZmF1bHRcIl0nKS5hdHRyKFwibWluXCIsMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJ2lucHV0LmZvcm0tY29udHJvbFtkYXRhLWNhdGVnb3J5LXR5cGU9XCJkZWZhdWx0XCJdJykuYXR0cihcIm1pblwiLDApO1xuICAgIH1cbn1cblxuJCgnaW5wdXQuZm9ybS1jb250cm9sW2RhdGEtY2F0ZWdvcnktdHlwZV0nKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgJCh0aGlzKS5mb2N1c291dChmdW5jdGlvbigpe1xuICAgICAgICB2YXIgdG90YWxzID0gZ2V0VG90YWxzKCk7XG4gICAgICAgIGlmICgkKHRoaXMpLmRhdGEoJ2NhdGVnb3J5LXR5cGUnKSAhPT0gJ3N1cHBsZW1lbnQnICkge1xuICAgICAgICAgICAgc2V0TWF4SW5jbHVkZWQodG90YWxzKTtcbiAgICAgICAgfVxuICAgICAgICBzZXREZWZhdWx0UmVxdWlyZWQodG90YWxzKTtcbiAgICB9KTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==